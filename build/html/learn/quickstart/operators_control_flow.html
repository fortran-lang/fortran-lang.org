
<!DOCTYPE html>

<html lang="None">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Logical operators &#8212; Fortran Programming Language</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <link rel="canonical" href="https://henilp105.github.io/fortran-lang.org/learn/quickstart/operators_control_flow.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Subroutines" href="organising_code.html" />
    <link rel="prev" title="Array declaration" href="arrays_strings.html" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    
      
      <link rel="icon" sizes="" href="../../_static/images/favicon.ico">
      
    

    <!-- Google Analytics -->
      
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/fortran-logo-256x256.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Learn
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://fortran-lang.discourse.group/" rel="noopener" target="_blank" title="Discourse"><span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/fortranlang" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/fortran-lang" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://fortran-lang.org/news.xml" rel="noopener" target="_blank" title="RSS"><span><i class="fas fa-rss"></i></span>
            <label class="sr-only">RSS</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   Quickstart
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hello_world.html">
   Compiler setup
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="variables.html">
   Declaring variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="arrays_strings.html">
   Array declaration
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Logical operators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="organising_code.html">
   Subroutines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="derived_types.html">
   A quick take on derived types
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                 <p>One of the powerful advantages of computer algorithms, compared to simple mathematical formulae,
comes in the form of program <em>branching</em> whereby the program can decide which instructions to
execute next based on a logical condition.</p>
<p>There are two main forms of controlling program flow:</p>
<ul class="simple">
<li><p><em>Conditional</em> (if): choose program path based on a boolean (true or false) value</p></li>
<li><p><em>Loop</em>: repeat a portion of code multiple times</p></li>
</ul>
<section id="logical-operators">
<h1>Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">#</a></h1>
<p>Before we use a conditional branching operator, we need to be able to form
a logical expression.</p>
<p>To form a logical expression, the following set of relational operators are available:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Operator  </p></th>
<th class="text-center head"><p>Alternative  </p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.eq.</span></code></p></td>
<td><p>Tests for equality of two operands</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">/=</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.ne.</span></code></p></td>
<td><p>Test for inequality of two operands</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">&gt;</span> </code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.gt.</span></code></p></td>
<td><p>Tests if left operand is strictly greater than right operand</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">&lt;</span> </code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.lt.</span></code></p></td>
<td><p>Tests if left operand is strictly less than right operand</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.ge.</span></code></p></td>
<td><p>Tests if left operand is greater than or equal to right operand</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></td>
<td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.le.</span></code></p></td>
<td><p>Tests if left operand is less than or equal to right operand</p></td>
</tr>
</tbody>
</table>
<br>
<p>as well as the following logical operators:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Operator  </p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.and.</span></code></p></td>
<td><p>TRUE if both left and right operands are TRUE</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.or.</span></code></p></td>
<td><p>TRUE if either left or right or both operands are TRUE</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.not.</span></code></p></td>
<td><p>TRUE if right operand is FALSE</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.eqv.</span></code></p></td>
<td><p>TRUE if left operand has same logical value as right operand</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><code class="docutils literal notranslate"><span class="pre">.neqv.</span></code></p></td>
<td><p>TRUE if left operand has the opposite logical value as right operand</p></td>
</tr>
</tbody>
</table>
<br>
</section>
<section id="conditional-construct-if">
<h1>Conditional construct (<code class="docutils literal notranslate"><span class="pre">if</span></code>)<a class="headerlink" href="#conditional-construct-if" title="Permalink to this headline">#</a></h1>
<p>In the following examples, a conditional <code class="docutils literal notranslate"><span class="pre">if</span></code> construct is used to print out a
message to describe the nature of the <code class="docutils literal notranslate"><span class="pre">angle</span></code> variable:</p>
<p><strong>Example:</strong> single branch <code class="docutils literal notranslate"><span class="pre">if</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Angle is acute&#39;</span><span class="w"></span>
<span class="k">end if</span><span class="w"></span>
</pre></div>
</div>
<p>In this first example, the code within the <code class="docutils literal notranslate"><span class="pre">if</span></code> construct is <em>only executed if</em> the
test expression (<code class="docutils literal notranslate"><span class="pre">angle</span> <span class="pre">&lt;</span> <span class="pre">90.0</span></code>) is true.</p>
<p>{% include tip.html content=&quot;It is good practice to indent code within constructs such as <code class="docutils literal notranslate"><span class="pre">if</span></code> and <code class="docutils literal notranslate"><span class="pre">do</span></code>
to make code more readable.&quot; %}</p>
<p>We can add an alternative branch to the construct using the <code class="docutils literal notranslate"><span class="pre">else</span></code> keyword:</p>
<p><strong>Example:</strong> two-branch <code class="docutils literal notranslate"><span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Angle is acute&#39;</span><span class="w"></span>
<span class="k">else</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Angle is obtuse&#39;</span><span class="w"></span>
<span class="k">end if</span><span class="w"></span>
</pre></div>
</div>
<p>Now there are two <em>branches</em> in the <code class="docutils literal notranslate"><span class="pre">if</span></code> construct, but <em>only one branch is executed</em> depending
on the logical expression following the <code class="docutils literal notranslate"><span class="pre">if</span></code> keyword.</p>
<p>We can actually add any number of branches using <code class="docutils literal notranslate"><span class="pre">else</span> <span class="pre">if</span></code> to specify more conditions:</p>
<p><strong>Example:</strong> multi-branch  <code class="docutils literal notranslate"><span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span> <span class="pre">if</span></code>-<code class="docutils literal notranslate"><span class="pre">else</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">9</span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Angle is acute&#39;</span><span class="w"></span>
<span class="k">else if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">18</span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Angle is obtuse&#39;</span><span class="w"></span>
<span class="k">else</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Angle is reflex&#39;</span><span class="w"></span>
<span class="k">end if</span><span class="w"></span>
</pre></div>
</div>
<p>When multiple conditional expressions are used, each conditional expression is tested only if none of the previous
expressions have evaluated to true.</p>
</section>
<section id="loop-constructs-do">
<h1>Loop constructs (<code class="docutils literal notranslate"><span class="pre">do</span></code>)<a class="headerlink" href="#loop-constructs-do" title="Permalink to this headline">#</a></h1>
<p>In the following example, a <code class="docutils literal notranslate"><span class="pre">do</span></code> loop construct is used to print out the numbers in
a sequence.
The <code class="docutils literal notranslate"><span class="pre">do</span></code> loop has an integer <em>counter</em> variable which is used to track which iteration of the loop
is currently executing. In this example we use a common name for this counter variable: <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
<p>When we define the start of the <code class="docutils literal notranslate"><span class="pre">do</span></code> loop, we use our counter variable name followed by an equals (<code class="docutils literal notranslate"><span class="pre">=</span></code>) sign
to specify the start value and final value of our counting variable.</p>
<p><strong>Example:</strong> <code class="docutils literal notranslate"><span class="pre">do</span></code> loop</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="k">end do</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Example:</strong> <code class="docutils literal notranslate"><span class="pre">do</span></code> loop with skip</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w">  </span><span class="c">! Print odd numbers</span>
<span class="k">end do</span><span class="w"></span>
</pre></div>
</div>
<section id="conditional-loop-do-while">
<h2>Conditional loop (<code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">while</span></code>)<a class="headerlink" href="#conditional-loop-do-while" title="Permalink to this headline">#</a></h2>
<p>A condition may be added to a <code class="docutils literal notranslate"><span class="pre">do</span></code> loop with the <code class="docutils literal notranslate"><span class="pre">while</span></code> keyword. The loop will be executed while the condition given
in <code class="docutils literal notranslate"><span class="pre">while()</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">.true.</span></code>.</p>
<p><strong>Example:</strong> <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">while()</span></code> loop</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="k">do while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="w">  </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="k">end do</span><span class="w"></span>
<span class="c">! Here i = 11</span>
</pre></div>
</div>
</section>
<section id="loop-control-statements-exit-and-cycle">
<h2>Loop control statements (<code class="docutils literal notranslate"><span class="pre">exit</span></code> and <code class="docutils literal notranslate"><span class="pre">cycle</span></code>)<a class="headerlink" href="#loop-control-statements-exit-and-cycle" title="Permalink to this headline">#</a></h2>
<p>Most often than not, loops need to be stopped if a condition is met. Fortran provides two executable statements to deal
with such cases.</p>
<p><code class="docutils literal notranslate"><span class="pre">exit</span></code> is used to quit the loop prematurely. It is usually enclosed inside an <code class="docutils literal notranslate"><span class="pre">if</span></code>.</p>
<p><strong>Example:</strong> loop with <code class="docutils literal notranslate"><span class="pre">exit</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">    exit</span><span class="w">  </span><span class="c">! Stop printing numbers</span>
<span class="w">  </span><span class="k">end if</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="k">end do</span><span class="w"></span>
<span class="c">! Here i = 11</span>
</pre></div>
</div>
<p>On the other hand, <code class="docutils literal notranslate"><span class="pre">cycle</span></code> skips whatever is left of the loop and goes into the next cycle.</p>
<p><strong>Example:</strong> loop with <code class="docutils literal notranslate"><span class="pre">cycle</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">mod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">      cycle</span><span class="w">  </span><span class="c">! Don&#39;t print even numbers</span>
<span class="w">  </span><span class="k">end if</span>
<span class="k">  print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="k">end do</span><span class="w"></span>
</pre></div>
</div>
<p>{% include note.html content=&quot;When used within nested loops, the <code class="docutils literal notranslate"><span class="pre">cycle</span></code> and <code class="docutils literal notranslate"><span class="pre">exit</span></code> statements operate on the innermost loop.&quot; %}</p>
</section>
<section id="nested-loop-control-tags">
<h2>Nested loop control: tags<a class="headerlink" href="#nested-loop-control-tags" title="Permalink to this headline">#</a></h2>
<p>A recurring case in any programming language is the use of nested loops. Nested loops refer to loops that exist within another loop. Fortran allows the programmer to <em>tag</em> or <em>name</em> each loop. If loops are tagged, there are two potential benefits:</p>
<ol class="arabic simple">
<li><p>The readability of the code may be improved (when the naming is meaningful).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exit</span></code> and <code class="docutils literal notranslate"><span class="pre">cycle</span></code> may be used with tags, which allows for very fine-grained control of the loops.</p></li>
</ol>
<p><strong>Example:</strong> tagged nested loops</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"></span>

<span class="n">outer_loop</span><span class="p">:</span><span class="w"> </span><span class="k">do </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">  </span><span class="n">inner_loop</span><span class="p">:</span><span class="w"> </span><span class="k">do </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">  </span><span class="c">! Print only pairs of i and j that add up to 10</span>
<span class="w">      </span><span class="k">cycle </span><span class="n">outer_loop</span><span class="w">  </span><span class="c">! Go to the next iteration of the outer loop</span>
<span class="w">    </span><span class="k">end if</span>
<span class="k">    print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I=&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39; J=&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39; Sum=&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="w">  </span><span class="k">end do </span><span class="n">inner_loop</span><span class="w"></span>
<span class="k">end do </span><span class="n">outer_loop</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="parallelizable-loop-do-concurrent">
<h2>Parallelizable loop (<code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent</span></code>)<a class="headerlink" href="#parallelizable-loop-do-concurrent" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent</span></code> loop is used to explicitly specify that the <em>inside of the loop has no interdependencies</em>; this informs the compiler that it may use parallelization/<em>SIMD</em> to speed up execution of the loop and conveys programmer intention more clearly. More specifically, this means
that any given loop iteration does not depend on the prior execution of other loop iterations. It is also necessary that any state changes that may occur must only happen within each <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent</span></code> loop.
These requirements place restrictions on what can be placed within the loop body.</p>
<p>{% capture note %}
Simply replacing a <code class="docutils literal notranslate"><span class="pre">do</span></code> loop with a <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent</span></code> does not guarantee parallel execution.
The explanation given above does not detail all the requirements that need to be met in order to write a correct <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent</span></code> loop.
Compilers are also free to do as they see fit, meaning they may not optimize the loop (e.g., a small number of iterations doing a simple calculation, like the below example).
In general, compiler flags are required to activate possible parallelization for <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent</span></code> loops.
{% endcapture %}
{% include important.html content=note %}</p>
<p><strong>Example:</strong> <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">concurrent()</span></code> loop</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14159265</span><span class="w"></span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="kt">real</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">result_sin</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="k">do</span><span class="w"> </span><span class="k">concurrent</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">n</span><span class="p">)</span><span class="w">  </span><span class="c">! Careful, the syntax is slightly different</span>
<span class="w">  </span><span class="n">result_sin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">pi</span><span class="o">/</span><span class="mf">4.</span><span class="p">)</span><span class="w"></span>
<span class="k">end do</span>

<span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">result_sin</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>

<div class="section">
   
</div>

              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="arrays_strings.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Array declaration</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="organising_code.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Subroutines</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, Fortran Community.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>