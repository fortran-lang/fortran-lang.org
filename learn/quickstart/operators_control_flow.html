<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Fortran Programming Language">
    <title>Operators and Control Flow - Fortran Programming Language</title>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css">
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/syntax.css" rel="stylesheet">
    <link rel="canonical" href="https://fortran-lang.org/learn/quickstart/operators_control_flow" />
    <script src="https://kit.fontawesome.com/8d17d4fe97.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/2.0.2/octicons.min.css">
    <link rel="stylesheet" href="/assets/github-activity-0.1.5/github-activity-0.1.5.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"></script>
    <script type="text/javascript" src="/assets/github-activity-0.1.5/github-activity-0.1.5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js" integrity="sha256-TQq84xX6vkwR0Qs1qH5ADkP+MvH0W+9E7TdHJsoIQiM=" crossorigin="anonymous"></script>
    
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <header class="navbar">
	 
    <div class="container">
        <nav class="navbar">
	    <div class="container-fluid">
	    <div class="navbar-header">
		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu" aria-expanded="false">
		    <span class="sr-only">Toggle navigation</span>
		    <img src="/assets/img/icons/icon-menu.svg" alt="Toggle navigation" class="navbar-top-align">
		</button>
		<a href="/" class="navbar-brand">
		    <img src="/assets/img/fortran_logo_256x256.png" id="navbar-logo" alt="Fortran">
		</a>
	    </div>
	    <div class="collapse navbar-collapse navbar-top-align" id="menu">
	        <ul class="nav navbar-nav navbar-right">
		
		    
		    <li class="current">
		    
		    <a href="/learn/">Learn</a>
		    
			</li>
		
		    
		    <li>
		    
		    <a href="/compilers/">Compilers</a>
		    
			</li>
		
		    
		    <li>
		    
		    <a href="/community/">Community</a>
		    
			</li>
		
		    
		    <li>
		    
		    <a href="/packages">Packages</a>
		    
			</li>
		
		    
		    <li>
		    
		    <a href="/news/">News</a>
		    
			</li>
		
		<li>
			<a  href="https://fortran-lang.discourse.group/" target="_blank">
			<i class="fab fa-discourse"></i> <i class="icon-link" >Discourse</i>
			</a>
		</li>
		<li>
			<a href="https://twitter.com/fortranlang" target="_blank">
				<i class="fab fa-twitter"></i> <i class="icon-link" >Twitter</i>
			</a>
		</li>
		<li>
			<a  href="https://github.com/fortran-lang" target="_blank">
				<i class="fab fa-github"></i> <i class="icon-link" >Github</i>
			</a>
		</li>
		<li>
			<a  href="/news.xml" target="_blank">
				<i class="fas fa-rss"></i> <i class="icon-link" >RSS Feed</i>
			</a>
		</li>
		</ul>
	    </div>
	    </div>
        </nav>
    </div>
</header>


<section class="front-section">
  <div class="container">

    <div class="col-fixed" id="pagenav-sidebar">

  <!-- Find parent book using page.permalink -->
  <!-- NB. This search is inefficient but simplifies
        the definition of book pages in learning.yml -->
  
    
    
      
        
      
        
      
        
      
        
          
          
    
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
  

  <a href="/learn#book-index">
    <i class="fas fa-arrow-circle-left"></i>
    Back to Learn Fortran index 
  </a>

  <h3>
  <i class="fas fa-book"></i>
  Quickstart Fortran Tutorial</h3>

  <div class="content">
   <!-- If this book has multiple pages -->

    

    <ul>
    
    <!-- Add link to book introduction (index) -->
    
      <li><a href="/learn/quickstart">
        Introduction</a></li>
    

    <!-- List pages in this book -->
    
    
      <!-- Get page title from page metadata -->
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          

      
        <li><a href="/learn/quickstart/hello_world">
          Hello World</a></li>
      

    
    
      <!-- Get page title from page metadata -->
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          

      
        <li><a href="/learn/quickstart/variables">
          Variables</a></li>
      

    
    
      <!-- Get page title from page metadata -->
      
        
      
        
          
          

      
        <li><a href="/learn/quickstart/arrays_strings">
          Arrays and strings</a></li>
      

    
    
      <!-- Get page title from page metadata -->
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          

      
        <li>
          <b><a href="/learn/quickstart/operators_control_flow">
            Operators and Control Flow</a></b>
          <ul id="page-nav"></ul>
        </li>
        
        
        
      

    
    
      <!-- Get page title from page metadata -->
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          

      
        <li><a href="/learn/quickstart/organising_code">
          Organising code structure</a></li>
      

    
    
      <!-- Get page title from page metadata -->
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          

      
        <li><a href="/learn/quickstart/derived_types">
          Derived types</a></li>
      

    
    </ul>

  
</div>

</div>



    <div class="newsletter col-right">

      <h1>Operators and Control Flow</h1>

      <div style="margin-top: 0.5em; margin-bottom: 0.5em;">
        <i></i>
        
      </div>

      <p>One of the powerful advantages of computer algorithms, compared to simple mathematical formulae,
comes in the form program <em>branching</em> whereby the program can decide which instructions to 
execute next based on a logical condition.</p>

<p>There two main forms of controlling program flow:</p>

<ul>
  <li>
    <p><em>Conditional</em> (if): choose program path based on a boolean (true or false) value</p>
  </li>
  <li>
    <p><em>Loop</em>: repeat a portion of code multiple times</p>
  </li>
</ul>

<h2 id="logical-operators">Logical operators</h2>
<p>Before we use a conditional branching operator, we need to be able to form
a logical expression.</p>

<p>To form a logical expression the following set of relational operators are available:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator  </th>
      <th style="text-align: center">Alternative  </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">==</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">.eq.</code></td>
      <td>Tests for equality of two operands</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">/=</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">.ne.</code></td>
      <td>Test for inequality of two operands</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">&gt; </code></td>
      <td style="text-align: center"><code class="highlighter-rouge">.gt.</code></td>
      <td>Tests if left operand is strictly greater than right operand</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">&lt; </code></td>
      <td style="text-align: center"><code class="highlighter-rouge">.lt.</code></td>
      <td>Tests if left operand is strictly less than right operand</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">&gt;=</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">.ge.</code></td>
      <td>Tests if left operand is greater than or equal to right operand</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">&lt;=</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">.le.</code></td>
      <td>Tests if left operand is less than or equal to right operand</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<p>as well as the following logical operators:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator  </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">.and.</code></td>
      <td>TRUE if both left and right operands are TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">.or.</code></td>
      <td>TRUE if either left or right or both operands are TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">.not.</code></td>
      <td>TRUE if right operand is FALSE</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">.eqv.</code></td>
      <td>TRUE if left operand has same logical value as right operand</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">.neqv.</code></td>
      <td>TRUE if left operand has the opposite logical value as right operand</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<h2 id="conditional-construct-if">Conditional construct (<code class="highlighter-rouge">if</code>)</h2>

<p>In the following examples, a conditional <code class="highlighter-rouge">if</code> construct is used to print out a
message to describe the nature of the <code class="highlighter-rouge">angle</code> variable:</p>

<p><strong>Example:</strong> single branch <code class="highlighter-rouge">if</code></p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">90.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle is acute'</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
</span></code></pre></div></div>

<p>In this first example, the code within the <code class="highlighter-rouge">if</code> construct is <strong>only executed if</strong> the
test expression (<code class="highlighter-rouge">angle &lt; 90.0</code>) is true.</p>

<div class="aside-tip">
    
    <p><strong>Tip:</strong> It is good practice to indent code within constructs such as <code class="highlighter-rouge">if</code> and <code class="highlighter-rouge">do</code>
to make code more readable.</p>

</div>

<p>We can add alternative branch to the construct using the <code class="highlighter-rouge">else</code> keyword:</p>

<p><strong>Example:</strong> two-branch <code class="highlighter-rouge">if-else</code></p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">90.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle is acute'</span><span class="w">
  </span><span class="k">else</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle is obtuse'</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
</span></code></pre></div></div>

<p>Now there are two <em>branches</em> in the <code class="highlighter-rouge">if</code> construct, but <strong>only one branch is executed</strong> depending
on the logical expression following the <code class="highlighter-rouge">if</code> keyword.</p>

<p>We can actually add any number of branches using <code class="highlighter-rouge">else if</code> to specify more conditions:</p>

<p><strong>Example:</strong> multi-branch  <code class="highlighter-rouge">if-elseif-else</code></p>
<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">90.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle is acute'</span><span class="w">
  </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">180.0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle is obtuse'</span><span class="w">
  </span><span class="k">else</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'Angle is reflex'</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
</span></code></pre></div></div>

<p>When multiple conditional expressions are used, each conditional expression is tested only if none of the previous
expressions have evaluated to true.</p>

<h2 id="loop-constructs-do">Loop constructs (<code class="highlighter-rouge">do</code>)</h2>

<p>In the following example a <code class="highlighter-rouge">do</code> loop construct is used to print out the numbers in
a sequence.
The <code class="highlighter-rouge">do</code> loop has an integer <em>counter</em> variable which is used to track which iteration of the loop
is currently executing, in this example we use a common name for this counter variable: <code class="highlighter-rouge">i</code>.</p>

<p>When we define the start of the <code class="highlighter-rouge">do</code> loop we use our counter variable name followed by an equals (<code class="highlighter-rouge">=</code>) sign
to specify the start value and final value of our counting variable.</p>

<p><strong>Example:</strong> <code class="highlighter-rouge">do</code> loop</p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">do</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w">
</span></code></pre></div></div>

<p><strong>Example:</strong> <code class="highlighter-rouge">do</code> loop with skip</p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">do</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w">   </span><span class="c1">! Print odd numbers</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w">
</span></code></pre></div></div>

<h3 id="conditional-loop-do-while">Conditional loop (<code class="highlighter-rouge">do while</code>)</h3>

<p>A condition may be added to a <code class="highlighter-rouge">do</code> loop with the <code class="highlighter-rouge">while</code> keyword. The loop will be executed while the condition given
in <code class="highlighter-rouge">while()</code> evaluates to <code class="highlighter-rouge">.true.</code>.</p>

<p><strong>Example:</strong> <code class="highlighter-rouge">do while()</code> loop</p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="k">do</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w">
    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w">
  </span><span class="c1">! Here i = 11</span><span class="w">
</span></code></pre></div></div>

<h3 id="loop-control-statements-exit-and-cycle">Loop control statements (<code class="highlighter-rouge">exit</code> and <code class="highlighter-rouge">cycle</code>)</h3>

<p>Most often than not, loops need to be stopped if a condition is met. Fortran provides two executable statements to deal
with such cases.</p>

<p><code class="highlighter-rouge">exit</code> is used to quit the loop prematurely. It is usually enclosed inside an <code class="highlighter-rouge">if</code>.</p>

<p><strong>Example</strong> loop with <code class="highlighter-rouge">exit</code></p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">do</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
      </span><span class="k">exit</span><span class="w"> </span><span class="c1">! Stop printing numbers</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w">
  </span><span class="c1">! Here i = 11</span><span class="w">
</span></code></pre></div></div>

<p>On the other hand, <code class="highlighter-rouge">cycle</code> skips whatever is left of the loop and goes into the next cycle.</p>

<p><strong>Example</strong> loop with <code class="highlighter-rouge">cycle</code></p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">do</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">mod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
       </span><span class="k">cycle</span><span class="w">  </span><span class="c1">! Don't print even numbers</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w">
</span></code></pre></div></div>
<div class="aside-note">
    
    <p><strong>Note:</strong> When used within nested loops, the <code class="highlighter-rouge">cycle</code> and <code class="highlighter-rouge">exit</code> statements operate on the inner-most loop.</p>

</div>

<h3 id="nested-loop-control-tags">Nested loop control: tags</h3>

<p>A recurring case in any programming language is the use of nested loops. Nested loops refer to loops that exist within another loop. Fortran allows the programmer to <em>tag</em> or <em>name</em> each loop. If loops are tagged, there are two potential benefits:</p>
<ol>
  <li>The readability of the code may be improved (when the naming is meaningful).</li>
  <li><code class="highlighter-rouge">exit</code> and <code class="highlighter-rouge">cycle</code> may be used with tags, which allows for a very fine-grained control of the loops.</li>
</ol>

<p><strong>Example</strong> tagged nested loops</p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="w">
  </span><span class="n">outer_loop</span><span class="p">:</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="w">
    </span><span class="n">inner_loop</span><span class="p">:</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="w">
      </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">j</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">  </span><span class="c1">! Print only pairs of i and j that add up to 10</span><span class="w">
         </span><span class="k">cycle</span><span class="w"> </span><span class="n">outer_loop</span><span class="w">  </span><span class="c1">! Go to the next iteration of the outer loop</span><span class="w">
      </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
      </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="s1">'I='</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="s1">' J='</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="s1">' Sum='</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="o">+</span><span class="n">i</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">inner_loop</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">outer_loop</span><span class="w">
</span></code></pre></div></div>

<h3 id="parallelizable-loop-do-concurrent">Parallelizable loop (<code class="highlighter-rouge">do concurrent</code>)</h3>

<p>The <code class="highlighter-rouge">do concurrent</code> loop is used to explicitly specify that the <em>inside of the loop has no interdependencies</em>; this informs the compiler that it may use parallelization/<em>SIMD</em> to speed-up execution of the loop and conveys programmer intention more clearly. More specifically, this means
that any loop iteration does not depend on the prior execution of other loop iterations. It is also necessary that any state changes that may occur must only happen within each <code class="highlighter-rouge">do concurrent</code> loop.
These requirements place restrictions on what can be placed within the loop body.</p>

<div class="aside-important">
    
    <p><strong>Important:</strong> <code class="highlighter-rouge">do concurrent</code> is not a basic feature of Fortran. The explanation given does not detail
all the requirements that need to be met in order to write a correct <code class="highlighter-rouge">do concurrent</code> loop. Compilers are also free to do as they see fit,
which means they may not optimize the loop.</p>

</div>

<p><strong>Example</strong> <code class="highlighter-rouge">do concurrent()</code> loop</p>

<div class="language-fortran highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14159265</span><span class="w">
  </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="kt">real</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">result_sin</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w">
  </span><span class="kt">integer</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">i</span><span class="w">
  </span><span class="k">do</span><span class="w"> </span><span class="k">concurrent</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="c1">! Careful, the syntax is slightly different</span><span class="w">
    </span><span class="n">result_sin</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">sin</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">pi</span><span class="p">/</span><span class="mf">4.</span><span class="p">)</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">do</span><span class="w">
  </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">result_sin</span><span class="w">
</span></code></pre></div></div>


      <div class="container-flex">

        
          
            <a href="/learn/quickstart/arrays_strings" style="margin-right: auto;">
          
            <h3><i class="fas fa-arrow-circle-left"></i>
              Back
            </h3>
          </a>
        

        
          
          <a href="/learn/quickstart/organising_code"
          style="margin-left: auto;">
            <h3>
              Next
              <i class="fas fa-arrow-circle-right"></i>
            </h3>
          </a>
          
        

      </div>

    </div>

  </div>
</section>


    <footer>
  <div class="container">
    <div class="col-wide">
    
      <a href="/learn/">Learn</a>
      
        &middot;
      
    
      <a href="/compilers/">Compilers</a>
      
        &middot;
      
    
      <a href="/community/">Community</a>
      
        &middot;
      
    
      <a href="/packages">Packages</a>
      
        &middot;
      
    
      <a href="/news/">News</a>
      
    
    </div>

    <div class="col-narrow">
      This site's source is <a href="https://github.com/fortran-lang/fortran-lang.github.io/">hosted on GitHub</a>.
    </div>
  </div>
</footer>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>
     

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="/assets/js/fortranlang.js"></script>
    <script src="/assets/js/page_nav.js"></script>
    <script src="/assets/js/gh-contributors.js"></script>
    <script src="/assets/js/package_search.js"></script>
    <script src="/assets/js/package_tags.js"></script>
    <script>
      feather.replace()
    </script>
  </body>
</html>
